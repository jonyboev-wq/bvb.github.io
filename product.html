<!DOCTYPE html>
<html lang="ru" data-theme="">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>–¢–æ–≤–∞—Ä ‚Äî BVB</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg:#f7fafc;--bg-2:#ffffff;--card:#ffffff;--muted:#5b6776;--text:#0b1220;--accent:#2563eb;--border:#e5e7eb;--shadow:0 10px 24px rgba(16,24,40,.08);--radius:16px;--maxw:1100px}
[data-theme="dark"]{--bg:#0b1220;--bg-2:#0e1729;--card:#111a2e;--muted:#9fb0c8;--text:#e6eef9;--accent:#3b82f6;--border:#1d2a44;--shadow:0 12px 34px rgba(0,0,0,.35)}
*{box-sizing:border-box}html,body{margin:0;padding:0}
body{font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text);line-height:1.6}
.container{max-width:var(--maxw);margin:0 auto;padding:16px}
header{position:sticky;top:0;background:var(--bg-2);border-bottom:1px solid var(--border);backdrop-filter:saturate(150%) blur(8px);z-index:10}
[data-theme="dark"] header{background:rgba(14,23,41,.9)}
.nav{display:flex;justify-content:space-between;align-items:center;gap:8px}
.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid var(--border);border-radius:12px;background:var(--bg-2);cursor:pointer;color:var(--text)}
.btn.primary{background:linear-gradient(180deg,var(--accent),#1d4ed8);border:none;color:#fff}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:16px}
.grid2{display:grid;grid-template-columns:1.1fr 1fr;gap:14px}
@media (max-width:760px){.grid2{grid-template-columns:1fr}}
img.p{width:100%;border-radius:16px;border:1px solid var(--border);object-fit:cover;max-height:520px}
.badge{color:var(--muted);font-size:13px}
.price{font-weight:700;font-size:20px;margin-top:6px}
</style>
</head>
<body>
<header class="container nav">
  <div class="nav">
    <a class="btn" href="index.html">‚Üê –ö–∞—Ç–∞–ª–æ–≥</a>
    <div class="nav" style="gap:8px">
      <button class="btn" id="theme-toggle">üåô –¢–µ–º–∞</button>
      <a class="btn" href="admin.html">üîß –ê–¥–º–∏–Ω–∫–∞</a>
    </div>
  </div>
</header>

<main class="container">
  <div id="wrap" class="card">
    <div id="notfound" style="display:none">
      <h2>–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω</h2>
      <p class="badge">–í–æ–∑–º–æ–∂–Ω–æ, —Å—Å—ã–ª–∫–∞ —É—Å—Ç–∞—Ä–µ–ª–∞. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∫–∞—Ç–∞–ª–æ–≥.</p>
    </div>
    <div id="view" style="display:none">
      <div class="grid2">
        <img id="pimg" class="p" src="" alt="">
        <div>
          <h1 id="ptitle" style="margin:0 0 6px"></h1>
          <div class="badge" id="ptag"></div>
          <div class="price" id="pprice"></div>
          <p id="pdesc" style="margin-top:10px"></p>
          <div class="nav" style="gap:8px;margin-top:10px">
            <div class="btn" id="minus">‚àí</div>
            <div class="btn" id="qty">1</div>
            <div class="btn" id="plus">+</div>
            <button class="btn primary" id="add">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<script>
/* Theme */
const applyTheme=(t)=>{const el=document.documentElement;if(!t){t=localStorage.getItem('theme')||(matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light');}el.setAttribute('data-theme',t==='dark'?'dark':'');localStorage.setItem('theme',t);}
applyTheme(); document.getElementById('theme-toggle').onclick=()=>applyTheme(document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark');
/* Utils */
const $=(s,el=document)=>el.querySelector(s); const qs=(name)=>new URL(location.href).searchParams.get(name); const fmt=n=>(n||0).toLocaleString('ru-RU')+' ‚ÇΩ';
/* Load config */
let CONFIG={products:[]}; (async()=>{ try{const r=await fetch('shopConfig.json',{cache:'no-store'}); if(r.ok) CONFIG=await r.json();}catch(e){} const loc=localStorage.getItem('shopConfig'); if(loc){try{CONFIG={...CONFIG,...JSON.parse(loc)};}catch(e){}}
  const id=qs('id'); const p=(CONFIG.products||[]).find(x=>(x.id||'')===id);
  if(!p){ $('#notfound').style.display=''; return; }
  $('#view').style.display='';
  $('#ptitle').textContent=p.title; $('#ptag').textContent=p.tag||''; $('#pprice').textContent=p.priceText || (p.price?fmt(p.price):''); $('#pdesc').textContent=p.desc||''; $('#pimg').src=p.img;
  let q=1; const show=()=>$('#qty').textContent=q; $('#minus').onclick=()=>{q=Math.max(1,q-1);show();}; $('#plus').onclick=()=>{q++;show();}; show();
  const CART_KEY='shopCart'; let cart = JSON.parse(localStorage.getItem(CART_KEY)||'[]');
  const add=()=>{const row=cart.find(i=>i.id===p.id); if(row) row.qty+=q; else cart.push({id:p.id, qty:q}); localStorage.setItem(CART_KEY,JSON.stringify(cart)); alert('–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É');}
  $('#add').onclick=add;
})();
</script>
</body>
</html>
