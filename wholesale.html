<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Оптовая заявка — BVB</title>
  <link rel="icon" href="logo.png">
  <link rel="stylesheet" href="style.css">
  <script defer src="common.js"></script>
</head>
<body>
<header>
  <div class="container nav">
    <div class="brand">
      <div class="logo">BVB</div>
      <div>
        <h1>BVB</h1>
        <p>Оптовые заявки</p>
      </div>
    </div>
    <div class="actions">
      <a class="btn" href="index.html#catalog">Каталог</a>
      <button class="btn icon" id="theme-btn" aria-label="Сменить тему"></button>
    </div>
  </div>
</header>

<main class="container">
  <section class="card pad section">
    <h3 style="margin-top:0">Оптовая заявка</h3>
    <p class="small">Заполните форму — мы свяжемся с вами в ближайшее время с предложением по оптовой партии.</p>
    <form id="wholesale-form" class="section">
      <div class="grid" style="gap:10px">
        <label class="card pad" style="grid-column:span 6;background:var(--panel-2)">Имя
          <input name="name" required style="width:100%;margin-top:6px;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab, var(--text), transparent 85%);background:transparent;color:var(--text)">
        </label>
        <label class="card pad" style="grid-column:span 6;background:var(--panel-2)">Email
          <input type="email" name="email" required style="width:100%;margin-top:6px;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab, var(--text), transparent 85%);background:transparent;color:var(--text)">
        </label>
        <label class="card pad" style="grid-column:span 6;background:var(--panel-2)">Телефон
          <input name="phone" required style="width:100%;margin-top:6px;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab, var(--text), transparent 85%);background:transparent;color:var(--text)">
        </label>
        <label class="card pad" style="grid-column:span 6;background:var(--panel-2)">Компания (опционально)
          <input name="company" style="width:100%;margin-top:6px;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab, var(--text), transparent 85%);background:transparent;color:var(--text)">
        </label>
        <label class="card pad" style="grid-column:span 6;background:var(--panel-2)">Город
          <input name="location" style="width:100%;margin-top:6px;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab, var(--text), transparent 85%);background:transparent;color:var(--text)">
        </label>
        <label class="card pad" style="grid-column:span 6;background:var(--panel-2)">Способ связи
          <select name="preferred" style="width:100%;margin-top:6px;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab, var(--text), transparent 85%);background:transparent;color:var(--text)">
            <option value="email">Email</option>
            <option value="phone">Телефон</option>
            <option value="messenger">Мессенджер</option>
          </select>
        </label>
        <label class="card pad" style="grid-column:span 12;background:var(--panel-2)">Товар и объём/сообщение
          <textarea name="message" required style="width:100%;min-height:150px;margin-top:6px;padding:10px;border-radius:10px;border:1px solid color-mix(in oklab, var(--text), transparent 85%);background:transparent;color:var(--text)"></textarea>
        </label>
      </div>
      <button class="btn primary" type="submit">Отправить заявку</button>
      <div id="form-status" class="small" style="margin-top:8px"></div>
    </form>
  </section>
</main>

<footer class="container">
  <div class="small">© <span id="year"></span> BVB</div>
</footer>

<script>
(function(){
  const btn = document.getElementById('theme-btn');
  function refreshIcon(){ const cur = localStorage.getItem('theme') || 'dark'; btn.innerHTML = svgIcon(cur==='dark' ? 'sun':'moon');}
  refreshIcon(); btn.addEventListener('click', ()=>{toggleTheme(); refreshIcon();})
  document.getElementById('year').textContent = new Date().getFullYear();
  bindWholesaleForm();
  const topic = new URLSearchParams(location.search).get('topic');
  if(topic){
    const ta = document.querySelector('textarea[name="message"]');
    if(ta){ ta.value = topic + "\n\n"; }
  }
})();
</script>
</body>
</html>
