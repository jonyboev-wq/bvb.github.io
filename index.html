
<!doctype html><html lang="ru"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>BVB ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω</title>
<link rel="icon" href="logo.png">
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head><body>
<header>
  <div class="container nav">
    <div class="brand"><img src="logo.png" alt="BVB"><div><h1>BVB</h1><div class="small">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–∞</div></div></div>
    <div class="actions">
      <a class="btn secondary" href="#catalog">–ö–∞—Ç–∞–ª–æ–≥</a>
      <a class="btn secondary" href="wholesale.html">–û–ø—Ç</a>
      <button id="theme-toggle" class="btn icon" aria-label="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">üåì</button>
      <a class="btn secondary" id="cart-btn" href="#">üß∫ <span id="cart-count">0</span></a>
    </div>
  </div>
</header>

<main class="container">
  <section class="hero">
    <h2>–õ—É—á—à–∏–µ —Ç–æ–≤–∞—Ä—ã –ø–æ —á–µ—Å—Ç–Ω—ã–º —Ü–µ–Ω–∞–º</h2>
    <p class="small">–ú—ã —Ç—â–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–±–∏—Ä–∞–µ–º –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ. –î–ª—è –æ–ø—Ç–æ–≤—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è.</p>
    <div class="socials" id="socials"></div>
  </section>

  <section id="catalog" class="grid"></section>
</main>

<a href="admin.html" class="btn fab icon" title="–ê–¥–º–∏–Ω–∫–∞">‚öôÔ∏è</a>

<footer class="container">
  <div class="small">¬© <span id="year"></span> BVB. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</div>
</footer>

<script src="common.js"></script>
<script>
const socials = [
  {label:'Avito', url:'https://www.avito.ru/brands/i184536091?src=sharing', icon:'üÖ∞Ô∏è'},
  {label:'Telegram', url:'https://t.me/bvbvbabab', icon:'‚úàÔ∏è'},
  {label:'WhatsApp', url:'https://wa.me/79831289090', icon:'üí¨'}
];

function renderSocials(){
  const wrap = document.getElementById('socials');
  wrap.innerHTML='';
  socials.forEach(s=>{
    const a=document.createElement('a'); a.href=s.url; a.target="_blank"; a.rel="noopener";
    a.innerHTML = `<span>${s.icon}</span><span>${s.label}</span>`;
    wrap.appendChild(a);
  });
}

async function renderCatalog(){
  try{
    const cfg = await Shop.loadConfig();
    const grid = document.getElementById('catalog');
    grid.innerHTML='';
    (cfg.products||[]).forEach(p=>{
      const slug = p.slug || Shop.slugify(p.title);
      const card = document.createElement('article');
      card.className='card pad product';
      card.innerHTML = `
        <img src="${p.img}" alt="${p.title}">
        <div class="meta">
          <h3>${p.title}</h3>
          <div class="tag">${p.tag||''}</div>
          <p class="small" style="margin:6px 0 10px">${p.desc||''}</p>
          <div class="price">${p.price}</div>
          <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn primary add">–í –∫–æ—Ä–∑–∏–Ω—É</button>
            <a class="btn secondary more" href="product.html?slug=${encodeURIComponent(slug)}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
          </div>
        </div>
      `;
      // —Ü–µ–ª–∏–∫–æ–º –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ, –∫—Ä–æ–º–µ –∫–Ω–æ–ø–æ–∫
      card.addEventListener('click', (e)=>{
        if(e.target.closest('.add')||e.target.closest('.more')) return;
        location.href = 'product.html?slug='+encodeURIComponent(slug);
      });
      card.querySelector('.add').addEventListener('click', (e)=>{
        e.stopPropagation();
        Shop.addToCart({title:p.title, price:p.price, img:p.img, qty:1});
      });
      grid.appendChild(card);
    });
  }catch(err){
    const grid = document.getElementById('catalog');
    grid.innerHTML = `<div class="card pad small">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª <b>shopConfig.json</b> –ª–µ–∂–∏—Ç –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON.</div>`;
  }
}

document.getElementById('cart-btn').addEventListener('click', (e)=>{
  e.preventDefault();
  alert('–î–µ–º–æ-–∫–æ—Ä–∑–∏–Ω–∞: —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ ‚Äî '+Shop.countCart()+'. (–¢–µ–ª–µ–≥—Ä–∞–º-–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –ø–æ–∑–∂–µ)');
});

document.getElementById('year').textContent = new Date().getFullYear();
Shop.themeInit();
Shop.renderCartBadge();
renderSocials();
renderCatalog();
</script>
</body></html>
