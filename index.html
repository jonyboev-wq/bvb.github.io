
<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BVB — официальный магазин</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <a class="logo" href="./"><img src="logo.png" alt="BVB logo"></a>
        <div class="titles">
          <h1 id="b-name">BVB</h1>
          <p id="b-tag">Официальная страница магазина</p>
        </div>
      </div>
      <div class="actions">
        <a class="btn ghost" href="./#catalog">Каталог</a>
        <a class="btn ghost" href="wholesale.html">Опт</a>
        <button id="theme-toggle" class="btn icon" aria-label="Сменить тему"></button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <h2 class="title">Лучшие товары по честным ценам</h2>
      <p class="subtitle">Мы тщательно отбираем ассортимент и отправляем заказы по всей стране. Для оптовых покупателей — специальные условия.</p>
      <div class="socials" id="socials"></div>
    </section>

    <section id="catalog">
      <div class="grid" id="grid"></div>
    </section>
  </main>

  <footer class="container">
    <div>© <span id="year"></span> BVB. Все права защищены.</div>
  </footer>

<script type="module">
  import { loadConfig, $, icon, initTheme, slugify } from './common.js';

  initTheme();

  function productCard(p){
    const photo = (p.photos && p.photos[0]) || '';
    return `
      <a class="card product-card" href="product.html?slug=${encodeURIComponent(p.slug)}">
        <div class="img-wrap"><img src="${photo}" alt="${p.title}"></div>
        <div class="pad">
          <h3>${p.title}</h3>
          ${p.tag ? `<div class="tag">${p.tag}</div>`: ''}
          <p class="desc">${p.desc||''}</p>
          <div class="row">
            <div class="price">${p.price||''}</div>
            ${p.avito ? `<a class="btn" href="${p.avito}" target="_blank" rel="noopener">Avito</a>`:''}
          </div>
        </div>
      </a>`;
  }

  const cfg = await loadConfig();
  $('#b-name').textContent = cfg.name || 'BVB';
  $('#b-tag').textContent = cfg.tag || 'Официальная страница магазина';
  $('#year').textContent = new Date().getFullYear();

  const socials = $('#socials');
  socials.innerHTML = '';
  (cfg.socials||[]).forEach(s=>{
    const a = document.createElement('a');
    a.className = 'btn';
    a.href = s.url; a.target = '_blank'; a.rel = 'noopener';
    a.innerHTML = icon(s.icon) + '<span>'+s.label+'</span>';
    socials.appendChild(a);
  });

  const grid = $('#grid');
  grid.innerHTML = (cfg.products||[]).map(productCard).join('');
</script>
</body>
</html>
