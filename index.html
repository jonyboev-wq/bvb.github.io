<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–í–∞—à –ú–∞–≥–∞–∑–∏–Ω ‚Äî –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
  <meta name="description" content="–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–∞. –ö–∞—Ç–∞–ª–æ–≥, –æ–ø—Ç–æ–≤—ã–µ –∑–∞—è–≤–∫–∏, –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ—Ü—Å–µ—Ç–∏." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!--
  –û–ë–ù–û–í–õ–ï–ù–û: 
  ‚Ä¢ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (–∫–∞—Ä—Ç–∏–Ω–∫–∏, —Å–µ—Ç–∫–∞, –∫–Ω–æ–ø–∫–∏, —Ñ–æ—Ä–º–∞).
  ‚Ä¢ –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ-–≥–æ–ª—É–±–∞—è –ø–∞–ª–∏—Ç—Ä–∞.
  ‚Ä¢ –û—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞ (SPA-–Ω–∞–≤–∏–≥–∞—Ü–∏—è #/product/:slug) —Å –∫–Ω–æ–ø–∫–æ–π ¬´–≤ –∫–æ—Ä–∑–∏–Ω—É¬ª.
  ‚Ä¢ –ü—Ä–æ—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞ (localStorage) –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ —à–∞–ø–∫–µ.
  ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –ê–≤–∏—Ç–æ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö.
  -->

  <style>
    :root{
      /* –ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ-–≥–æ–ª—É–±–∞—è —Ç–µ–º–∞ */
      --bg: #0b1220;               /* —Ñ–æ–Ω */
      --bg-2: #0e1729;
      --card: #111a2e;             /* –∫–∞—Ä—Ç–æ—á–∫–∏ */
      --muted: #9fb0c8;            /* –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç */
      --text: #e6eef9;             /* –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
      --accent: #3b82f6;           /* —Å–∏–Ω–∏–π */
      --accent-2: #38bdf8;         /* –≥–æ–ª—É–±–æ–π */
      --border: #1d2a44;           /* –≥—Ä–∞–Ω–∏—Ü—ã */
      --shadow: 0 12px 34px rgba(0,0,0,.35);
      --radius: 16px;
      --maxw: 1100px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 70% -20%, rgba(59,130,246,.25), transparent 60%),
                  radial-gradient(900px 500px at -10% 20%, rgba(56,189,248,.18), transparent 60%),
                  var(--bg);
      color: var(--text);
      line-height:1.6;
    }
    a{color:var(--text);text-decoration:none}
    .container{max-width:var(--maxw);margin:0 auto;padding:16px}

    header{
      position:sticky;top:0;z-index:30;
      backdrop-filter:saturate(140%) blur(10px);
      background: linear-gradient(to bottom, rgba(11,18,32,.92), rgba(11,18,32,.65));
      border-bottom:1px solid var(--border);
    }
    .nav{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px;min-width:0}
    .logo{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#1d4ed8);display:grid;place-items:center;box-shadow:var(--shadow)}
    .brand h1{font-size:18px;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .brand p{margin:0;color:var(--muted);font-size:12px}
    .nav-actions{display:flex;gap:8px;align-items:center}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 14px;border-radius:12px;border:1px solid var(--border);transition:.2s ease;cursor:pointer;background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02))}
    .btn:hover{transform:translateY(-1px);border-color:#25406b}
    .btn.primary{background:linear-gradient(180deg,var(--accent),#1d4ed8);border:none;color:white}
    .btn.ghost{background:transparent}

    /* Cart badge */
    #cart-btn{position:relative}
    #cart-count{position:absolute;top:-6px;right:-6px;background:var(--accent-2);color:#06101e;border-radius:999px;font-size:11px;min-width:18px;height:18px;display:grid;place-items:center;border:1px solid #0b1729}

    .hero{padding:36px 0 20px}
    .hero .title{font-size:32px;line-height:1.15;letter-spacing:-.02em;margin:0 0 10px}
    .hero .subtitle{color:var(--muted);font-size:15px;max-width:720px;margin:0 0 18px}
    .hero-cta{display:flex;gap:10px;flex-wrap:wrap}

    .socials{display:flex;gap:8px;flex-wrap:wrap}
    .socials a{padding:10px 12px;border:1px solid var(--border);border-radius:12px;display:inline-flex;align-items:center;gap:8px}
    .badge{font-size:12px;color:var(--muted)}

    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
    .card .pad{padding:16px}

    .products{padding:8px 0 28px}
    .product{grid-column: span 12;display:flex;gap:12px;align-items:flex-start;cursor:pointer}
    .product img{width:110px;height:110px;border-radius:12px;object-fit:cover;border:1px solid var(--border)}
    .product .meta{flex:1;min-width:0}
    .product h3{margin:0 0 6px;font-size:16px}
    .price{font-weight:600}
    .tag{display:inline-flex;gap:6px;align-items:center;padding:6px 10px;border-radius:999px;border:1px dashed var(--border);font-size:12px;color:var(--muted)}

    /* Product detail */
    #product-view{display:none;padding:12px}
    .p-hero{display:grid;grid-template-columns:1fr;gap:14px}
    .p-img{width:100%;border-radius:16px;border:1px solid var(--border);object-fit:cover}
    .p-title{margin:0}
    .p-price{font-size:18px;font-weight:700;margin:6px 0}
    .qty{display:flex;gap:8px;align-items:center}
    .qty input{width:90px;text-align:center}

    .wholesale{padding:16px}
    form{display:grid;gap:10px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    input, textarea, select{
      background:var(--bg-2);border:1px solid var(--border);border-radius:12px;padding:12px;color:var(--text);font:inherit
    }
    textarea{min-height:120px}
    label{font-size:14px;color:var(--muted);display:grid;gap:6px}
    .help{font-size:12px;color:var(--muted)}

    footer{border-top:1px solid var(--border);padding:24px 0;color:var(--muted)}
    .small{font-size:12px}

    .admin-panel{position:fixed;right:16px;bottom:16px;z-index:50;display:none}
    .admin{padding:10px 14px;border-radius:12px;background:#0d1424;border:1px solid var(--border);box-shadow:var(--shadow);min-width:280px}
    .admin h4{margin:0 0 10px}
    .admin .row2{display:grid;grid-template-columns:1fr 1fr;gap:8px}

    /* –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ */
    @media (max-width: 719px){
      .container{padding:12px}
      .hero{padding:22px 0 14px}
      .hero .title{font-size:24px}
      .nav-actions .btn{padding:10px 12px}
      .product img{width:88px;height:88px}
      .row{grid-template-columns:1fr}
      .btn{width:100%}
    }

    @media (min-width:720px){
      .hero{padding:64px 0 28px}
      .product{grid-column: span 6}
      .p-hero{grid-template-columns:1.1fr 1fr}
      .btn{width:auto}
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="logo" aria-hidden="true"><span>üõçÔ∏è</span></div>
        <div>
          <h1 id="brand-name">–í–∞—à –ú–∞–≥–∞–∑–∏–Ω</h1>
          <p id="brand-tag">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–∞</p>
        </div>
      </div>
      <div class="nav-actions">
        <a class="btn ghost" href="#catalog">–ö–∞—Ç–∞–ª–æ–≥</a>
        <a class="btn ghost" href="#wholesale">–û–ø—Ç</a>
        <a class="btn primary" href="#wholesale">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</a>
        <a class="btn" id="cart-btn" href="#cart">üß∫ –ö–æ—Ä–∑–∏–Ω–∞ <span id="cart-count">0</span></a>
      </div>
    </div>
  </header>

  <main class="container" id="app">
    <!-- VIEW: –ì–ª–∞–≤–Ω–∞—è (–∫–∞—Ç–∞–ª–æ–≥ + —Å–æ—Ü—Å–µ—Ç–∏ + –æ–ø—Ç) -->
    <section class="hero" id="home-hero">
      <h2 class="title" id="hero-title">–õ—É—á—à–∏–µ —Ç–æ–≤–∞—Ä—ã –ø–æ —á–µ—Å—Ç–Ω—ã–º —Ü–µ–Ω–∞–º</h2>
      <p class="subtitle" id="hero-sub">–ú—ã —Ç—â–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–±–∏—Ä–∞–µ–º –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ. –î–ª—è –æ–ø—Ç–æ–≤—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è.</p>
      <div class="hero-cta">
        <a class="btn primary" href="#catalog">–°–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥</a>
        <a class="btn" href="#wholesale">–û—Å—Ç–∞–≤–∏—Ç—å –æ–ø—Ç–æ–≤—É—é –∑–∞—è–≤–∫—É</a>
      </div>
      <div class="badge" id="contact-line">–ü–∏—à–∏—Ç–µ –Ω–∞–º: <a id="contact-email" href="mailto:sales@example.com">sales@example.com</a> ‚Ä¢ <span id="contact-phone">+7 (900) 000-00-00</span></div>
    </section>

    <section class="card pad" id="home-socials">
      <div class="socials" id="socials"></div>
    </section>

    <section id="catalog" class="products">
      <div class="grid" id="product-grid"></div>
    </section>

    <section id="wholesale" class="card wholesale">
      <h3 style="margin-top:0">–û–ø—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞</h3>
      <p class="help">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É ‚Äî –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –ø–æ –æ–ø—Ç–æ–≤–æ–π –ø–∞—Ä—Ç–∏–∏.</p>
      <form id="wholesale-form" action="https://formspree.io/f/your-endpoint" method="POST">
        <div class="row">
          <div>
            <label>–í–∞—à–µ –∏–º—è<input required name="name" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" /></label>
          </div>
          <div>
            <label>Email –¥–ª—è —Å–≤—è–∑–∏<input required type="email" name="email" placeholder="you@example.com" /></label>
          </div>
        </div>
        <div class="row">
          <div>
            <label>–¢–µ–ª–µ—Ñ–æ–Ω<input required name="phone" placeholder="+7 ..." /></label>
          </div>
          <div>
            <label>–ö–æ–º–ø–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)<input name="company" placeholder="–û–û–û &quot;–ü—Ä–∏–º–µ—Ä&quot;" /></label>
          </div>
        </div>
        <div>
          <label>–¢–æ–≤–∞—Ä –∏ –æ–±—ä—ë–º<textarea required name="message" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê—Ä—Ç. 123, 200 —à—Ç. –°—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏ ‚Äî –¥–æ 15 —Å–µ–Ω—Ç—è–±—Ä—è."></textarea></label>
        </div>
        <div class="row">
          <div>
            <label>–ì–æ—Ä–æ–¥/—Ä–µ–≥–∏–æ–Ω<input name="location" placeholder="–ú–æ—Å–∫–≤–∞" /></label>
          </div>
          <div>
            <label>–°–ø–æ—Å–æ–± —Å–≤—è–∑–∏<select name="preferred">
              <option value="email">Email</option>
              <option value="phone">–¢–µ–ª–µ—Ñ–æ–Ω</option>
              <option value="messenger">–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</option>
            </select></label>
          </div>
        </div>
        <input type="hidden" name="formName" value="Wholesale Lead" />
        <button class="btn primary" type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
        <div id="form-status" class="help"></div>
      </form>
    </section>

    <!-- VIEW: –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ -->
    <section id="product-view" class="card pad" style="display:none"></section>
  </main>

  <footer class="container">
    <div class="grid">
      <div class="card pad" style="grid-column:span 12">
        <div class="small">¬© <span id="year"></span> <span id="footer-name">–í–∞—à –ú–∞–≥–∞–∑–∏–Ω</span>. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. ‚Ä¢ –ò–ù–ù: <span id="footer-inn">0000000000</span> ‚Ä¢ –û–ì–†–ù: <span id="footer-ogrn">0000000000000</span></div>
      </div>
    </div>
  </footer>

  <div class="admin-panel" id="admin-panel">
    <div class="admin">
      <h4>–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h4>
      <div class="row2">
        <input id="inp-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞" />
        <input id="inp-tag" placeholder="–ö–æ—Ä–æ—Ç–∫–∏–π —Å–ª–æ–≥–∞–Ω" />
      </div>
      <div class="row2" style="margin-top:8px">
        <input id="inp-email" placeholder="Email" />
        <input id="inp-phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" />
      </div>
      <button class="btn" id="save-config" style="margin-top:10px">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å (localStorage)</button>
      <div class="help">–ù–∞–∂–º–∏—Ç–µ \ —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å. –≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —É –≤–∞—Å –≤ –±—Ä–∞—É–∑–µ—Ä–µ.</div>
    </div>
  </div>

  <script>/* === –†–ï–î–ê–ö–¢–ò–†–£–ï–ú–´–ï –ù–ê–°–¢–†–û–ô–ö–ò (CONFIG) === */
const CONFIG = JSON.parse(localStorage.getItem('shopConfig')) || {
  name: "BVB",
  tag: "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–∞",
  heroTitle: "–õ—É—á—à–∏–µ —Ç–æ–≤–∞—Ä—ã –ø–æ —á–µ—Å—Ç–Ω—ã–º —Ü–µ–Ω–∞–º",
  heroSub: "–ú—ã —Ç—â–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–±–∏—Ä–∞–µ–º –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ. –î–ª—è –æ–ø—Ç–æ–≤—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è.",
  email: "sales@example.com",
  phone: "+7 (983) 128-90-90",
  socials: [
    { label: "Avito",    url: "https://www.avito.ru/brands/i184536091?src=sharing", icon: "avito" },
    { label: "Telegram", url: "https://t.me/bvbvbabab",                             icon: "telegram" },
    { label: "WhatsApp", url: "https://wa.me/79831289090",                          icon: "whatsapp" }
  ],
  products: [
    {
      title: "–õ—ã–∂–Ω—ã–µ —Å–∫—Ä–µ–ø–∫–∏ Fischer",
      price: "–æ—Ç 99 ‚ÇΩ",
      tag: "–•–∏—Ç –ø—Ä–æ–¥–∞–∂",
      img: "https://github.com/jonyboev-wq/shop/blob/main/IMG_3280.jpeg?raw=true",
      desc: "–ü—Ä–æ—á–Ω—ã–µ —Å–∫—Ä–µ–ø–∫–∏ –¥–ª—è –ª—ã–∂ Fischer. –ü–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è."
    },
    {
      title: "–†—é–∫–∑–∞–∫ –≥–æ—Ä–æ–¥—Å–∫–æ–π",
      price: "2 990 ‚ÇΩ",
      tag: "–ù–æ–≤–∏–Ω–∫–∞",
      img: "https://images.unsplash.com/photo-1523419409543-a7cbe5c0f7d4?q=80&w=1200&auto=format&fit=crop",
      desc: "–õ—ë–≥–∫–∏–π, –∏–∑–Ω–æ—Å–æ—Å—Ç–æ–π–∫–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª, –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –Ω–æ—É—Ç–±—É–∫–∞ 15\"."
    },
    {
      title: "–ù–∞—É—à–Ω–∏–∫–∏ –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ",
      price: "3 490 ‚ÇΩ",
      tag: "–¢–æ–ø-–≤—ã–±–æ—Ä",
      img: "https://images.unsplash.com/photo-1518442400540-92f54f2d1f11?q=80&w=1200&auto=format&fit=crop",
      desc: "–®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ, 30 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã, –±—ã—Å—Ç—Ä–∞—è –∑–∞—Ä—è–¥–∫–∞."
    },
    {
      title: "–ü–ª–µ–¥ —Ñ–ª–∏—Å–æ–≤—ã–π",
      price: "790 ‚ÇΩ",
      tag: "–¢—ë–ø–ª—ã–π —É—é—Ç",
      img: "https://images.unsplash.com/photo-1519710164239-da123dc03ef4?q=80&w=1200&auto=format&fit=crop",
      desc: "–ú—è–≥–∫–∏–π, –≥–∏–ø–æ–∞–ª–ª–µ—Ä–≥–µ–Ω–Ω—ã–π, 130√ó170 —Å–º. –†–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞."
    }
  ]
};

/* === TELEGRAM: –ù–ê–°–¢–†–û–ô–ö–ò –ò –û–¢–ü–†–ê–í–ö–ê === */
const TG = {
  token: "8331334111:AAGgH9i3H76H_TEhMGbNhySDmf-aXlYteTM",
  chat_id: 5223524937
};

async function tgSend(text) {
  try {
    const res = await fetch(`https://api.telegram.org/bot${TG.token}/sendMessage`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ chat_id: TG.chat_id, text, parse_mode: "HTML" })
    });
    if (!res.ok) {
      console.error("Telegram error:", await res.text());
      alert("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram (—Å–º. –∫–æ–Ω—Å–æ–ª—å).");
    }
  } catch (e) {
    console.error(e);
    alert("–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ Telegram.");
  }
}

/* === CHECKOUT –ß–ï–†–ï–ó TELEGRAM === */
function clearCart(){
  cart.length = 0;
  saveCart();
}

async function checkout(){
  if(!cart.length){
    alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞.');
    return;
  }
  let summary = cart.map((it,i)=> `${i+1}. ${it.title} ‚Äî ${it.price} √ó ${it.qty}`).join('
');
  alert('–í –≤–∞—à–µ–π –∫–æ—Ä–∑–∏–Ω–µ:
' + summary);
  const name = prompt('–í–∞—à–µ –∏–º—è:');
  if(!name) return;
  const phone = prompt('–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏:');
  if(!phone) return;
  const text = `<b>–ù–æ–≤—ã–π –∑–∞–∫–∞–∑</b>
${summary}

–ò–º—è: ${name}
–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}`;
  tgSend(text).then(()=>{
    clearCart();
    alert('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.');
  });
}

// –ö–Ω–æ–ø–∫–∞ ¬´–ö–æ—Ä–∑–∏–Ω–∞¬ª –≤ —à–∞–ø–∫–µ
document.getElementById('cart-btn').addEventListener('click', (e)=>{
  e.preventDefault();
  checkout();
});
/* === –ü–†–û–°–¢–ê–Ø –ö–û–†–ó–ò–ù–ê === */
    const CART_KEY = 'shopCart';
    const cart = JSON.parse(localStorage.getItem(CART_KEY) || '[]');
    function saveCart(){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); renderCartBadge(); }
    function addToCart(item){ cart.push(item); saveCart(); alert('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É'); }
    function cartCount(){ return cart.length; }
    function renderCartBadge(){ const c = document.getElementById('cart-count'); if(c) c.textContent = cartCount(); }

    /* === –•–ï–õ–ü–ï–†–´ === */
    const $ = (s,el=document)=>el.querySelector(s);
    const $$ = (s,el=document)=>Array.from(el.querySelectorAll(s));
    function slugify(s){ return s.toString().toLowerCase().trim().split(' ').join('-'); }

    function iconSVG(name){
      const icons = {
        telegram: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M9.036 15.47l-.38 5.36c.542 0 .776-.233 1.056-.512l2.536-2.43 5.256 3.84c.964.533 1.654.252 1.916-.89l3.472-16.27v-.002c.308-1.44-.52-2.004-1.46-1.654L1.05 9.22C-.346 9.78-.324 10.62.81 10.98l5.2 1.62L19.384 5.2c.616-.404 1.178-.18.716.224"/></svg>',
        vk: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12.9 17.6c-4.9 0-7.8-3.2-8.6-8.6H7c.5 3.5 2.3 5 3.4 5.3V9H14v4.5c1.1-.1 2.2-1.5 2.6-2.9h2.6c-.3 1.8-1.6 3.3-2.5 3.9.9.5 2.2 1.7 2.7 3.1h-2.9c-.5-1.1-1.5-2.2-2.9-2.3v2.3h-2.7z"/></svg>',
        instagram: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm5 5a5 5 0 100 10 5 5 0 000-10zm6.5-.8a1.2 1.2 0 100 2.4 1.2 1.2 0 000-2.4z"/></svg>',
        whatsapp: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M20 3.9A10 10 0 004 18.6L3 22l3.5-.9A10 10 0 1019.9 4L20 3.9zm-8 16a8 8 0 110-16 8 8 0 010 16zm4.6-5.9c-.3-.1-1.7-.8-1.9-.9-.3-.1-.5-.1-.7.2s-.8.9-.9 1-.3.1-.6 0a6.8 6.8 0 01-2-1.2 7.4 7.4 0 01-1.4-1.7c-.1-.3 0-.5.1-.6l.3-.4c.1-.1.1-.3 0-.5-.1-.1-.7-1.8-.9-2.4-.2-.6-.5-.5-.7-.5h-.6c-.2 0-.5.1-.7.3-.8.8-1.1 1.9-1.1 3 0 1.8 1.3 3.5 1.5 3.7.2.3 2.6 4.1 6.4 5.6 3.8 1.5 3.8 1 4.5.9.7-.1 2.3-.9 2.6-1.8.3-.9.3-1.7.2-1.8-.1-.1-.3-.2-.6-.3z"/></svg>',
        avito: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><circle cx="7" cy="7" r="3"/><circle cx="16" cy="6" r="2"/><circle cx="18" cy="14" r="3"/><circle cx="8" cy="17" r="2.5"/></svg>'
      };
      return icons[name] || '';
    }

    /* === –†–ï–ù–î–ï–† –ì–õ–ê–í–ù–û–ì–û –≠–ö–†–ê–ù–ê === */
    function renderHome(){
      // –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
      document.getElementById('home-hero').style.display = '';
      document.getElementById('home-socials').style.display = '';
      document.getElementById('catalog').style.display = '';
      document.getElementById('wholesale').style.display = '';
      document.getElementById('product-view').style.display = 'none';

      // –®–∞–ø–∫–∞ –∏ –≥–µ—Ä–æ–π
      document.getElementById('brand-name').textContent = CONFIG.name;
      document.getElementById('footer-name').textContent = CONFIG.name;
      document.getElementById('brand-tag').textContent = CONFIG.tag;
      document.getElementById('hero-title').textContent = CONFIG.heroTitle;
      document.getElementById('hero-sub').textContent = CONFIG.heroSub;
      document.getElementById('contact-email').textContent = CONFIG.email;
      document.getElementById('contact-email').href = `mailto:${CONFIG.email}`;
      document.getElementById('contact-phone').textContent = CONFIG.phone;
      document.getElementById('footer-inn').textContent = CONFIG.inn;
      document.getElementById('footer-ogrn').textContent = CONFIG.ogrn;

      // –°–æ—Ü—Å–µ—Ç–∏
      const socialsWrap = document.getElementById('socials');
      socialsWrap.innerHTML = '';
      CONFIG.socials.forEach(s => {
        const a = document.createElement('a');
        a.href = s.url; a.target = '_blank'; a.rel = 'noopener';
        a.innerHTML = `${iconSVG(s.icon)} <span>${s.label}</span>`;
        socialsWrap.appendChild(a);
      });

      // –¢–æ–≤–∞—Ä—ã
      const grid = document.getElementById('product-grid');
      grid.innerHTML = '';
      CONFIG.products.forEach(p => {
        const card = document.createElement('article');
        card.className = 'card pad product';
        card.innerHTML = `
          <img src=\"${p.img}\" alt=\"${p.title}\">
          <div class=\"meta\">
            <h3>${p.title}</h3>
            <div class=\"tag\">${p.tag}</div>
            <p class=\"help\" style=\"margin:6px 0 10px\">${p.desc}</p>
            <div class=\"price\">${p.price}</div>
            <button class=\"btn primary\" onclick='addToCart({ title: \"${p.title}\", price: \"${p.price}\", img: \"${p.img}\", qty: 1 }); event.stopPropagation();'>–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
          </div>
        `;
        card.addEventListener('click', ()=>{ location.hash = '#/product/'+encodeURIComponent(slugify(p.title)); });
        grid.appendChild(card);
      });

      // Admin quick edit inputs
      document.getElementById('inp-name').value = CONFIG.name;
      document.getElementById('inp-tag').value = CONFIG.tag;
      document.getElementById('inp-email').value = CONFIG.email;
      document.getElementById('inp-phone').value = CONFIG.phone;
    }

    /* === –†–ï–ù–î–ï–† –ö–ê–†–¢–û–ß–ö–ò –¢–û–í–ê–†–ê === */
    function renderProduct(slug){
      const prod = CONFIG.products.find(p=>slugify(p.title)===slug);
      if(!prod){ location.hash = '#'; return; }

      // –°–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
      document.getElementById('home-hero').style.display = 'none';
      document.getElementById('home-socials').style.display = 'none';
      document.getElementById('catalog').style.display = 'none';
      document.getElementById('wholesale').style.display = 'none';

      const view = document.getElementById('product-view');
      view.style.display = '';
      view.className = 'card pad';
      view.innerHTML = `
        <a class="btn ghost" href="#">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–∞–ª–æ–≥—É</a>
        <div class="p-hero" style="margin-top:10px">
          <img class="p-img" src="${prod.img}" alt="${prod.title}">
          <div>
            <h2 class="p-title">${prod.title}</h2>
            <div class="tag" style="margin:6px 0 10px">${prod.tag}</div>
            <div class="p-price">${prod.price}</div>
            <p class="help" style="margin:10px 0 14px">${prod.desc}</p>
            <div class="qty">
              <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
                <input id="qty" type="number" min="1" value="1" />
              </label>
              <button class="btn primary" id="add-to-cart">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
            </div>
          </div>
        </div>
      `;

      document.getElementById('add-to-cart').addEventListener('click', ()=>{
        const q = Math.max(1, parseInt(document.getElementById('qty').value||'1',10));
        addToCart({ title: prod.title, price: prod.price, img: prod.img, qty: q });
      });
    }

    /* === –†–û–£–¢–ï–† (—Ö–µ—à-–Ω–∞–≤–∏–≥–∞—Ü–∏—è) === */
    function router(){
      const h = location.hash.replace(/^#/,'');
      if(h.startsWith('/product/')){
        const slug = decodeURIComponent(h.split('/')[2] || '');
        renderProduct(slug);
      } else {
        renderHome();
      }
    }
    window.addEventListener('hashchange', router);

    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã (Formspree –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å)
    const form = document.getElementById('wholesale-form');
    const statusEl = document.getElementById('form-status');
    form.addEventListener('submit', async (e) => {
      if(form.action.includes('formspree.io') && form.action.includes('your-endpoint')){
        alert('–ó–∞–º–µ–Ω–∏—Ç–µ action —Ñ–æ—Ä–º—ã –Ω–∞ –≤–∞—à Formspree endpoint. –°–µ–π—á–∞—Å –∑–∞—è–≤–∫–∞ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞.');
        e.preventDefault();
        return;
      }
      statusEl.textContent = '–û—Ç–ø—Ä–∞–≤–ª—è–µ–º...';
      if(form.action.includes('formspree.io')){
        e.preventDefault();
        try{
          const formData = new FormData(form);
          const res = await fetch(form.action, { method: 'POST', body: formData, headers: { 'Accept': 'application/json' }});
          if(res.ok){ statusEl.textContent = '–ì–æ—Ç–æ–≤–æ! –ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤–∞—à—É –∑–∞—è–≤–∫—É.'; form.reset(); }
          else { statusEl.textContent = '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å –ø–æ email.'; }
        }catch(err){ statusEl.textContent = '–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.'; }
      }
    });

    // –ö–ª–∞–≤–∏—à–∞ –¥–ª—è –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∞
    document.addEventListener('keydown', (e)=>{
      if(e.key === '\\'){
        const panel = document.getElementById('admin-panel');
        const isVisible = getComputedStyle(panel).display !== 'none';
        panel.style.display = isVisible ? 'none' : 'block';
      }
    });

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–∞–≤–æ–∫ –≤ localStorage
    document.getElementById('save-config').addEventListener('click', ()=>{
      const next = {
        ...CONFIG,
        name: document.getElementById('inp-name').value.trim() || CONFIG.name,
        tag: document.getElementById('inp-tag').value.trim() || CONFIG.tag,
        email: document.getElementById('inp-email').value.trim() || CONFIG.email,
        phone: document.getElementById('inp-phone').value.trim() || CONFIG.phone,
      };
      localStorage.setItem('shopConfig', JSON.stringify(next));
      location.reload();
    });

    // –ì–æ–¥ –∏ –∫–æ—Ä–∑–∏–Ω–∞
    document.getElementById('year').textContent = new Date().getFullYear();
    renderCartBadge();

    // Schema.org (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è)
    const ld = { "@context":"https://schema.org", "@type":"Organization", "name": CONFIG.name, "url": location.href, "email": CONFIG.email, "telephone": CONFIG.phone };
    const s = document.createElement('script'); s.type='application/ld+json'; s.textContent = JSON.stringify(ld); document.head.appendChild(s);

    // –ü–µ—Ä–≤–∏—á–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä
    router();
  </script>
</body>
</html>
